@using BizData.Entities
@using BizLogic.Administration
@model IEnumerable<UnidadOrganizativa>

@{
    Layout = "AdminLayout";
}
<div class="main">
    <p>
    <h1>Unidades Organizativas</h1>
    </p>
    <p>
        <input type="text" id="myInput" onkeyup="myFunction()" placeholder="Buscar por nombre">
    </p>
    <section>
        <form method="post">
            <table id="myTable">
                <tr>
                    <th onclick="select(this)">
                        Nombre
                    </th >
                    <th onclick="select(this)">
                        Provincia
                    </th>
                    <th>
                    </th>
                    <th>
                    </th>
                </tr>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @item.Nombre
                        </td>
                        <td>
                            @item.Provincia.Nombre
                        </td>
                        <td>
                        <a class="button" href="/Admin/EditUO?Nombre=@item.Nombre&Provincia=@item.Provincia&@item.UnidadOrganizativaID=1"><span>Editar</span></a>                        
                        </td>
                        <td>
                            <button class="button" type="submit" value="Delete/@item.UnidadOrganizativaID" name="button">   <span>Eliminar</span> </button>
                        </td>
                    </tr>
                }
            </table>

            @if(User.HasClaim("Permission", "admin"))
            { 
                <button class="button" type="submit" value="Add" name="button">   <span>Añadir</span> </button>
            }
            
        </form>
    </section>
</div>